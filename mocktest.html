<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>모의고사 - 문장 순서 배열 연습</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
        }

        .back-btn {
            position: absolute;
            left: 30px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.5);
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .exercise-container {
            padding: 30px 20px;
        }

        .exercise-info {
            background: #f8f9fa;
            border-left: 5px solid #ff6b6b;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 5px;
        }

        .exercise-select {
            margin-bottom: 30px;
            text-align: center;
        }

        .exercise-select select {
            padding: 12px 20px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            min-width: 300px;
            max-width: 100%;
        }

        .controls {
            text-align: center;
            margin: 20px 0;
        }

        .btn {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 0 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }

        .btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .exercise-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .back-btn {
                left: 15px;
                padding: 8px 15px;
                font-size: 14px;
            }

            .header {
                padding: 25px 15px;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .header p {
                font-size: 1em;
            }

            .exercise-container {
                padding: 20px 15px;
            }

            .exercise-select select {
                min-width: 250px;
                font-size: 14px;
                padding: 10px 15px;
            }

            .btn {
                padding: 10px 20px;
                font-size: 14px;
                margin: 5px;
            }

            .sentence-item {
                padding: 12px;
                font-size: 14px;
            }

            .drop-zone {
                padding: 15px;
                min-height: 60px;
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            .back-btn {
                left: 10px;
                padding: 6px 12px;
                font-size: 12px;
            }

            .header {
                padding: 20px 10px;
            }

            .header h1 {
                font-size: 1.6em;
            }

            .exercise-container {
                padding: 15px 10px;
            }

            .exercise-select select {
                min-width: 200px;
                font-size: 13px;
            }

            .btn {
                padding: 8px 15px;
                font-size: 13px;
            }

            .sentence-item {
                padding: 10px;
                font-size: 13px;
            }
        }

        .exercise-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            .exercise-area {
                grid-template-columns: 1fr;
            }
        }

        .scrambled-sentences, .ordered-sentences {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            min-height: 400px;
        }

        .scrambled-sentences h3, .ordered-sentences h3 {
            color: #ff6b6b;
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid #ff6b6b;
            padding-bottom: 5px;
        }

        .sentence-item {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            position: relative;
            line-height: 1.5;
            font-family: 'Times New Roman', serif;
        }

        .sentence-item:hover {
            border-color: #ff6b6b;
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.2);
            transform: translateY(-2px);
        }

        .sentence-item:active {
            transform: scale(0.98);
        }

        .sentence-item.selected {
            border-color: #007bff;
            background-color: rgba(0, 123, 255, 0.1);
            box-shadow: 0 0 15px rgba(0, 123, 255, 0.3);
        }

        .drop-zone {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 5px 0;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            transition: all 0.3s ease;
            font-style: italic;
            cursor: pointer;
        }

        .drop-zone:hover {
            border-color: #ff6b6b;
            background-color: rgba(255, 107, 107, 0.1);
            color: #ff6b6b;
        }

        .drop-zone.highlight {
            border-color: #007bff;
            background-color: rgba(0, 123, 255, 0.1);
            color: #007bff;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 123, 255, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(0, 123, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 123, 255, 0); }
        }

        .score-display {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
        }

        .feedback {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .feedback.correct {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            opacity: 1;
        }

        .feedback.incorrect {
            background: linear-gradient(45deg, #dc3545, #fd7e14);
            color: white;
            opacity: 1;
        }

        .correct-sentence {
            border-color: #28a745 !important;
            background-color: rgba(40, 167, 69, 0.1);
        }

        .incorrect-sentence {
            border-color: #dc3545 !important;
            background-color: rgba(220, 53, 69, 0.1);
        }

        .creator-credit {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #ddd;
            font-weight: bold;
            color: #ff6b6b;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="main.html" class="back-btn">← 과 선택</a>
            <h1>📝 모의고사 연습</h1>
            <p>문장 순서 배열 문제 - 영어 문장들을 올바른 순서로 배열해보세요!</p>
        </div>

        <div class="exercise-container">
            <div class="exercise-info">
                <h3>📚 연습 방법</h3>
                <p>1. 아래에서 연습할 문제를 선택하세요<br>
                2. 왼쪽의 문장을 클릭해서 선택한 후, 오른쪽의 원하는 위치를 클릭하세요<br>
                3. 잘못 배치한 문장은 클릭해서 다시 왼쪽으로 돌려보낼 수 있습니다<br>
                4. '정답 확인' 버튼을 눌러 결과를 확인하세요</p>
            </div>

            <div class="exercise-select">
                <select id="exerciseSelect">
                    <option value="">연습할 문제를 선택하세요</option>
                    <option value="prob20">20번: 습관과 편의성 - 7문장</option>
                    <option value="prob21">21번: 신념과 행동의 관계 - 7문장</option>
                    <option value="prob23">23번: 과학과 행동의 중요성 - 6문장</option>
                    <option value="prob24">24번: 현실 인식의 차이 - 6문장</option>
                    <option value="prob31">31번: 환경과 주의력 - 7문장</option>
                    <option value="prob32">32번: 기업가의 가격 책정 실수 - 6문장</option>
                    <option value="prob33">33번: 인간의 번식 전략 - 7문장</option>
                    <option value="prob38">38번: 지하철 승객의 행동 - 7문장</option>
                </select>
            </div>

            <div class="controls">
                <button class="btn" id="shuffleBtn" disabled>다시 섞기</button>
                <button class="btn" id="checkBtn" disabled>정답 확인</button>
                <button class="btn" id="resetBtn" disabled>초기화</button>
            </div>

            <div class="score-display" id="scoreDisplay" style="display: none;">
                점수: <span id="score">0</span>/100
            </div>

            <div class="feedback" id="feedback"></div>

            <div class="exercise-area" id="exerciseArea" style="display: none;">
                <div class="scrambled-sentences">
                    <h3>🔀 Scrambled Sentences</h3>
                    <div id="scrambledContainer"></div>
                </div>

                <div class="ordered-sentences">
                    <h3>✅ Correct Order</h3>
                    <div id="orderedContainer"></div>
                </div>
            </div>

            <div class="creator-credit">
                Created by Sungwoo ✨
            </div>
        </div>
    </div>

    <script>
        const exercises = {
            prob20: [
                "People often ask me, \"What surprises you most about habits?\"",
                "One thing that continually astonishes me is the degree to which we're influenced by sheer convenience.",
                "The amount of effort, time, or decision making required by an action has a huge influence on habit formation.",
                "To a truly remarkable extent, we're more likely to do something if it's convenient, and less likely if it's not.",
                "For this reason, we should pay close attention to the convenience of any activity we want to make into a habit.",
                "Putting a wastebasket next to our front door made mail sorting slightly more convenient, and I stopped procrastinating with this chore.",
                "Many people report that they do a much better job of staying close to distant family members now that tools like group chats make it easy to stay in touch."
            ],
            prob21: [
                "It is common sense that people's inner beliefs may drive their external behavior.",
                "If you're attracted to a certain person, you should be more likely to socialize with that person.",
                "If you favor a brand of toothpaste, you're more likely to buy it.",
                "Of course, our internal thoughts don't always predict our public behavior, but, overall, what we do obviously reflects what we think.",
                "But beliefs and behaviors are also related in a more remarkable way.",
                "It turns out that the arrow is as likely to point in the reverse direction.",
                "As social psychologist David Myers observes, \"If social psychology has taught us anything during the last 25 years, it is that we are likely not only to think ourselves into a way of acting but also to act ourselves into a way of thinking.\""
            ],
            prob23: [
                "Science is concerned with accumulating and understanding observations of the physical world.",
                "That understanding alone solves no problems.",
                "Individual people have to act on that understanding for it to help solve problems.",
                "For instance, science has found that regular exercise can lower your risk of heart disease.",
                "Knowing this fact is interesting, but it will do nothing for your personal health unless you act on it and actually exercise.",
                "In fact, many of humanity's biggest problems are caused by lack of action, and not lack of knowledge."
            ],
            prob24: [
                "We think we're being logical, objective, and rational — and therefore accurate in our analysis, judgment, and decisions.",
                "So we think that if other people are logical, objective, and rational, they will agree with us and see what we see.",
                "But the opposite is the case.",
                "Every human brain is different. Everyone's life experience is different. Everyone's desires and knowledge are different.",
                "You might think you're being realistic — that is, that your ideas match reality, but that's impossible.",
                "When two nations play each other in the World Cup, the fans of each country criticize the referees for missing all the infractions that the other team commits."
            ],
            prob31: [
                "In everyday life, we use previous experience to predict where we should pay attention.",
                "Different environments create different expectations.",
                "This was profoundly illustrated by the scientist Jared Diamond in his book Guns, Germs, and Steel.",
                "He describes an adventure wandering through the New Guinea jungle with native New Guineans.",
                "He relates that these natives tend to perform poorly at tasks Westerners have been trained to do since childhood.",
                "But they are hardly stupid. They can detect the most subtle changes in the jungle, good for following the tracks of a predator or for finding the way back home.",
                "Diamond, who had never spent time in such places, has no ability to pay attention to these things."
            ],
            prob32: [
                "Most entrepreneurs put in tremendous amounts of time and effort in creating and launching new products and services and then make the mistake of overpricing them.",
                "They have created something they care deeply about, it's theirs, and this powerful sense of ownership distorts their perception of value which causes them to overprice their products.",
                "While many of them are quick to realize that their initial prices are too high, not all these people are happy or willing to drop their prices to make their products more attractive.",
                "When you launch a new product or service, your priority should be to get sufficient market adoption as soon as possible and you should be ready to sacrifice your initial prices and profits to achieve this aim.",
                "Once you have strong sales volumes, you can increase your prices to maximize your profits.",
                "And this can be a very costly mistake that may lead to the failure of their new business."
            ],
            prob33: [
                "In most respects, humans are one of a relatively small number of species that evolved a very different strategy of investing more energy to reproduce more slowly.",
                "Like apes and elephants, we mature at a leisurely pace, grow large bodies, and have few babies but devote much time and energy to raising them well.",
                "This unusual strategy succeeds because while apes and elephants produce fewer babies than mice, a larger percentage of their offspring survive to then reproduce.",
                "A house mouse can become a mother when she is just five weeks old, has four to ten pups per litter, and can have a new litter every two months over the course of her approximately twelve-month life.",
                "However, the vast majority of her pups die young.",
                "In contrast, a chimp or elephant mother does not reproduce until she is at least twelve years old, and she gives birth to only one infant every five or six years over the next thirty or so years.",
                "About half of these offspring make it to becoming parents."
            ],
            prob38: [
                "To monitor our surroundings is to focus on what's outside of ourselves: what we see, hear, smell, feel, and perhaps even taste.",
                "But sometimes what really marks a place is something less specific — a feeling within us.",
                "An interesting example emerged from a study of subway passenger behavior.",
                "Researchers trying to understand why people sit where they sit or stand where they stand in subway and metro trains examined the factors that shape the way riders used and navigated that space in different situations.",
                "One of their findings involved the reasons many riders like to plant themselves close to the train's doors.",
                "Partly this was the obvious convenience of being able to exit more quickly.",
                "But it was shaped partly by a more abstract sensation — the desire to avoid the sometimes uncomfortable feeling of accidentally making eye contact with seated passengers."
            ]
        };

        let currentExercise = [];
        let correctOrder = [];
        let userOrder = [];
        let selectedSentence = null;

        const exerciseSelect = document.getElementById('exerciseSelect');
        const shuffleBtn = document.getElementById('shuffleBtn');
        const checkBtn = document.getElementById('checkBtn');
        const resetBtn = document.getElementById('resetBtn');
        const exerciseArea = document.getElementById('exerciseArea');
        const scrambledContainer = document.getElementById('scrambledContainer');
        const orderedContainer = document.getElementById('orderedContainer');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const scoreElement = document.getElementById('score');
        const feedback = document.getElementById('feedback');

        exerciseSelect.addEventListener('change', function() {
            const selectedExercise = this.value;
            if (selectedExercise) {
                loadExercise(selectedExercise);
            }
        });

        shuffleBtn.addEventListener('click', shuffleSentences);
        checkBtn.addEventListener('click', checkAnswer);
        resetBtn.addEventListener('click', resetExercise);

        function loadExercise(exerciseKey) {
            currentExercise = [...exercises[exerciseKey]];
            correctOrder = [...currentExercise];
            userOrder = [];
            selectedSentence = null;

            shuffleSentences();
            exerciseArea.style.display = 'block';
            shuffleBtn.disabled = false;
            resetBtn.disabled = false;
            scoreDisplay.style.display = 'none';
            hideFeedback();
        }

        function shuffleSentences() {
            const shuffled = [...currentExercise];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }

            displayScrambledSentences(shuffled);
            createDropZones();
            checkBtn.disabled = true;
            userOrder = [];
            selectedSentence = null;
        }

        function displayScrambledSentences(sentences) {
            scrambledContainer.innerHTML = '';
            sentences.forEach((sentence, index) => {
                const sentenceDiv = document.createElement('div');
                sentenceDiv.className = 'sentence-item';
                sentenceDiv.textContent = sentence;
                sentenceDiv.dataset.sentence = sentence;

                sentenceDiv.addEventListener('click', function() {
                    selectSentence(this);
                });

                scrambledContainer.appendChild(sentenceDiv);
            });
        }

        function selectSentence(element) {
            document.querySelectorAll('.sentence-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            document.querySelectorAll('.drop-zone.highlight').forEach(zone => {
                zone.classList.remove('highlight');
            });

            element.classList.add('selected');
            selectedSentence = element;

            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.classList.add('highlight');
            });

            showFeedback('선택된 문장을 배치할 위치를 클릭하세요!', 'correct');
        }

        function createDropZones() {
            orderedContainer.innerHTML = '';
            for (let i = 0; i < currentExercise.length; i++) {
                const dropZone = document.createElement('div');
                dropZone.className = 'drop-zone';
                dropZone.textContent = `문장 ${i + 1}을 여기에 배치하세요`;
                dropZone.dataset.position = i;

                dropZone.addEventListener('click', function() {
                    handleDropZoneClick(this);
                });

                orderedContainer.appendChild(dropZone);
            }
        }

        function handleDropZoneClick(dropZone) {
            if (!selectedSentence) {
                showFeedback('먼저 왼쪽에서 문장을 선택하세요!', 'incorrect');
                return;
            }

            const sentence = selectedSentence.dataset.sentence;
            const position = parseInt(dropZone.dataset.position);

            const sentenceDiv = document.createElement('div');
            sentenceDiv.className = 'sentence-item';
            sentenceDiv.textContent = sentence;
            sentenceDiv.dataset.sentence = sentence;
            sentenceDiv.dataset.position = position;

            sentenceDiv.addEventListener('click', function() {
                returnSentence(this);
            });

            dropZone.parentNode.replaceChild(sentenceDiv, dropZone);
            selectedSentence.remove();
            selectedSentence = null;

            document.querySelectorAll('.sentence-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            document.querySelectorAll('.drop-zone.highlight').forEach(zone => {
                zone.classList.remove('highlight');
            });

            updateUserOrder();
            hideFeedback();
        }

        function returnSentence(sentenceElement) {
            const position = parseInt(sentenceElement.dataset.position);
            const sentence = sentenceElement.dataset.sentence;

            const dropZone = document.createElement('div');
            dropZone.className = 'drop-zone';
            dropZone.textContent = `문장 ${position + 1}을 여기에 배치하세요`;
            dropZone.dataset.position = position;

            dropZone.addEventListener('click', function() {
                handleDropZoneClick(this);
            });

            sentenceElement.parentNode.replaceChild(dropZone, sentenceElement);

            const newSentenceDiv = document.createElement('div');
            newSentenceDiv.className = 'sentence-item';
            newSentenceDiv.textContent = sentence;
            newSentenceDiv.dataset.sentence = sentence;

            newSentenceDiv.addEventListener('click', function() {
                selectSentence(this);
            });

            scrambledContainer.appendChild(newSentenceDiv);

            selectedSentence = null;
            document.querySelectorAll('.sentence-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            document.querySelectorAll('.drop-zone.highlight').forEach(zone => {
                zone.classList.remove('highlight');
            });

            updateUserOrder();
            hideFeedback();
        }

        function updateUserOrder() {
            userOrder = [];
            const placedSentences = orderedContainer.querySelectorAll('.sentence-item');
            placedSentences.forEach(item => {
                const position = parseInt(item.dataset.position);
                userOrder[position] = item.dataset.sentence;
            });

            const allFilled = userOrder.length === currentExercise.length && 
                            userOrder.every(item => item !== undefined);
            checkBtn.disabled = !allFilled;
        }

        function checkAnswer() {
            let correctCount = 0;
            const placedSentences = orderedContainer.querySelectorAll('.sentence-item');

            placedSentences.forEach((item, index) => {
                const position = parseInt(item.dataset.position);
                const sentence = item.dataset.sentence;
                const isCorrect = correctOrder[position] === sentence;

                if (isCorrect) {
                    correctCount++;
                    item.classList.add('correct-sentence');
                    item.classList.remove('incorrect-sentence');
                } else {
                    item.classList.add('incorrect-sentence');
                    item.classList.remove('correct-sentence');
                }
            });

            const score = Math.round((correctCount / currentExercise.length) * 100);
            scoreElement.textContent = score;
            scoreDisplay.style.display = 'block';

            if (score === 100) {
                showFeedback('완벽합니다! 🎉 모든 문장이 올바른 순서입니다!', 'correct');
            } else if (score >= 80) {
                showFeedback(`좋습니다! 👍 ${correctCount}/${currentExercise.length} 문장이 올바른 위치에 있습니다.`, 'correct');
            } else {
                showFeedback(`다시 시도해보세요! 💪 ${correctCount}/${currentExercise.length} 문장이 올바른 위치에 있습니다.`, 'incorrect');
            }
        }

        function showFeedback(message, type) {
            feedback.textContent = message;
            feedback.className = `feedback ${type}`;
        }

        function hideFeedback() {
            feedback.className = 'feedback';
        }

        function resetExercise() {
            const selectedExercise = exerciseSelect.value;
            if (selectedExercise) {
                loadExercise(selectedExercise);
            }
        }
    </script>
</body>
</html>