<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2ê³¼: From Problems to Solutions - ë¬¸ì¥ ìˆœì„œ ë°°ì—´ ì—°ìŠµ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .back-btn {
            position: absolute;
            left: 30px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .header {
            background: linear-gradient(45deg, #FF9500, #FF5722);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
        }

        .exercise-container {
            padding: 30px 20px;
        }

        .exercise-select select {
            padding: 12px 20px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            min-width: 300px;
            max-width: 100%;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .back-btn {
                left: 15px;
                padding: 8px 15px;
                font-size: 14px;
            }

            .header {
                padding: 25px 15px;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .header p {
                font-size: 1em;
            }

            .exercise-container {
                padding: 20px 15px;
            }

            .exercise-select select {
                min-width: 250px;
                font-size: 14px;
                padding: 10px 15px;
            }

            .btn {
                padding: 10px 20px;
                font-size: 14px;
                margin: 5px;
            }

            .sentence-item {
                padding: 12px;
                font-size: 14px;
            }

            .drop-zone {
                padding: 15px;
                min-height: 60px;
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            .back-btn {
                left: 10px;
                padding: 6px 12px;
                font-size: 12px;
            }

            .header {
                padding: 20px 10px;
            }

            .header h1 {
                font-size: 1.6em;
            }

            .exercise-container {
                padding: 15px 10px;
            }

            .exercise-select select {
                min-width: 200px;
                font-size: 13px;
            }

            .btn {
                padding: 8px 15px;
                font-size: 13px;
            }

            .sentence-item {
                padding: 10px;
                font-size: 13px;
            }
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .exercise-info {
            background: #f8f9fa;
            border-left: 5px solid #FF9500;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 5px;
        }

        .exercise-select {
            margin-bottom: 30px;
            text-align: center;
        }

        .controls {
            text-align: center;
            margin: 20px 0;
        }

        .btn {
            background: linear-gradient(45deg, #FF9500, #FF5722);
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 0 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 149, 0, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 149, 0, 0.4);
        }

        .btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .exercise-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            .exercise-area {
                grid-template-columns: 1fr;
            }
        }

        .scrambled-sentences, .ordered-sentences {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            min-height: 400px;
        }

        .scrambled-sentences h3, .ordered-sentences h3 {
            color: #FF9500;
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid #FF9500;
            padding-bottom: 5px;
        }

        .sentence-item {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            position: relative;
            line-height: 1.5;
            font-family: 'Times New Roman', serif;
        }

        .sentence-item:hover {
            border-color: #FF9500;
            box-shadow: 0 4px 12px rgba(255, 149, 0, 0.2);
            transform: translateY(-2px);
        }

        .sentence-item:active {
            transform: scale(0.98);
        }

        .sentence-item.selected {
            border-color: #007bff;
            background-color: rgba(0, 123, 255, 0.1);
            box-shadow: 0 0 15px rgba(0, 123, 255, 0.3);
        }

        .drop-zone {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 5px 0;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            transition: all 0.3s ease;
            font-style: italic;
            cursor: pointer;
        }

        .drop-zone:hover {
            border-color: #FF9500;
            background-color: rgba(255, 149, 0, 0.1);
            color: #FF9500;
        }

        .drop-zone.highlight {
            border-color: #007bff;
            background-color: rgba(0, 123, 255, 0.1);
            color: #007bff;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 123, 255, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(0, 123, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 123, 255, 0); }
        }

        .score-display {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
        }

        .feedback {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .feedback.correct {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            opacity: 1;
        }

        .feedback.incorrect {
            background: linear-gradient(45deg, #dc3545, #fd7e14);
            color: white;
            opacity: 1;
        }

        .correct-sentence {
            border-color: #28a745 !important;
            background-color: rgba(40, 167, 69, 0.1);
        }

        .incorrect-sentence {
            border-color: #dc3545 !important;
            background-color: rgba(220, 53, 69, 0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="main.html" class="back-btn">â† ê³¼ ì„ íƒ</a>
            <h1>ğŸ™ï¸ 2ê³¼: From Problems to Solutions</h1>
            <p>Bringing New Life to Old Cities - ì˜ì–´ ë¬¸ì¥ë“¤ì„ ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ë°°ì—´í•´ë³´ì„¸ìš”!</p>
        </div>

        <div class="exercise-container">
            <div class="exercise-info">
                <h3>ğŸ“š ì—°ìŠµ ë°©ë²•</h3>
                <p>1. ì•„ë˜ì—ì„œ ì—°ìŠµí•  ë¬¸ë‹¨ì„ ì„ íƒí•˜ì„¸ìš”<br>
                2. ì™¼ìª½ì˜ ë¬¸ì¥ì„ í´ë¦­í•´ì„œ ì„ íƒí•œ í›„, ì˜¤ë¥¸ìª½ì˜ ì›í•˜ëŠ” ìœ„ì¹˜ë¥¼ í´ë¦­í•˜ì„¸ìš”<br>
                3. ì˜ëª» ë°°ì¹˜í•œ ë¬¸ì¥ì€ í´ë¦­í•´ì„œ ë‹¤ì‹œ ì™¼ìª½ìœ¼ë¡œ ëŒë ¤ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>
                4. 'ì •ë‹µ í™•ì¸' ë²„íŠ¼ì„ ëˆŒëŸ¬ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
            </div>

            <div class="exercise-select">
                <select id="exerciseSelect">
                    <option value="">ì—°ìŠµí•  ë¬¸ë‹¨ì„ ì„ íƒí•˜ì„¸ìš”</option>
                    <option value="introduction">Introduction (ë„ì‹œ ì¬ìƒ ê°œë…) - 4ë¬¸ì¥</option>
                    <option value="wallisblok_background">Wallisblok Background (ë°°ê²½ ì„¤ëª…) - 7ë¬¸ì¥</option>
                    <option value="wallisblok_solution">Wallisblok Solution (1ìœ ë¡œ ì•„íŒŒíŠ¸ í•´ê²°ì±…) - 8ë¬¸ì¥</option>
                    <option value="de_ceuvel_background">De Ceuvel Background (ì¡°ì„ ì†Œ ì§€ì—­ ë¬¸ì œ) - 4ë¬¸ì¥</option>
                    <option value="de_ceuvel_solution">De Ceuvel Solution (ì¹œí™˜ê²½ ê¸°ìˆ  ë†€ì´í„°) - 7ë¬¸ì¥</option>
                    <option value="conclusion">Conclusion (ì„±ê³µ ìš”ì¸) - 4ë¬¸ì¥</option>
                </select>
            </div>

            <div class="controls">
                <button class="btn" id="shuffleBtn" disabled>ë‹¤ì‹œ ì„ê¸°</button>
                <button class="btn" id="checkBtn" disabled>ì •ë‹µ í™•ì¸</button>
                <button class="btn" id="resetBtn" disabled>ì´ˆê¸°í™”</button>
            </div>

            <div class="score-display" id="scoreDisplay" style="display: none;">
                ì ìˆ˜: <span id="score">0</span>/100
            </div>

            <div class="feedback" id="feedback"></div>

            <div class="exercise-area" id="exerciseArea" style="display: none;">
                <div class="scrambled-sentences">
                    <h3>ğŸ”€ Scrambled Sentences</h3>
                    <div id="scrambledContainer"></div>
                </div>

                <div class="ordered-sentences">
                    <h3>âœ… Correct Order</h3>
                    <div id="orderedContainer"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const exercises = {
            introduction: [
                "As cities age, neighborhoods can become old and lifeless, which may cause citizens to move away.",
                "When this happens, a collaboration between the local government and citizens is an effective way to revitalize the area.",
                "Let's take a look at two projects in the Netherlands to find out what successful urban revitalization looks like.",
                "Both projects show how creative thinking can transform abandoned areas into thriving communities."
            ],
            wallisblok_background: [
                "Rotterdam, the second largest city in the Netherlands, is known for its modern architecture and busy port.",
                "By taking a ten-minute tram ride west from the city center, however, you can get to a more peaceful environment.",
                "Instead of crowded streets, you will see neighbors chatting in front of a modern residential structure and families spending time in its garden.",
                "The structure is a large apartment building called Wallisblok.",
                "Not that long ago, this area was very different, and nobody thought it could become a place where families would want to live.",
                "Yet that is exactly what happened.",
                "For years, the neighborhood was known for its high crime rates."
            ],
            wallisblok_solution: [
                "Many apartments in Wallisblok were abandoned and then taken over by people who lived in them illegally.",
                "At first, the local government thought that the best solution was simply to tear the building down and build a new one in its place.",
                "However, having a limited budget, the government was unable to do so and had to come up with a new plan.",
                "The plan was to sell the empty apartments for one euro each.",
                "The only condition was that people who bought these apartments needed to renovate them.",
                "Although the new residents would have to pay for these renovations, the government's plan soon attracted many applicants.",
                "In the end, 42 new families moved into Wallisblok.",
                "Today, Wallisblok is one of the most desirable places to live in Rotterdam."
            ],
            de_ceuvel_background: [
                "In the early 20th century, there was an area in the northern part of Amsterdam that was full of shipyards and factories.",
                "Over time, the shipyards closed down, and the work once done at the factories was moved abroad.",
                "As a result, the area was left abandoned and polluted for years.",
                "Wanting to do something to improve the area, the city purchased an abandoned shipyard called De Ceuvel."
            ],
            de_ceuvel_solution: [
                "However, city officials did not know what to do with it.",
                "So they turned to the public for help by asking for plans that would achieve two primary goals.",
                "First, the plan had to include a method to clean up the land and turn it into a sustainable development.",
                "Second, it had to suggest a way to transform the site into a creative workspace.",
                "In the end, an architectural company submitted an innovative plan and was awarded a ten-year lease on the former shipyard.",
                "Since it was impossible to build foundations on the oily mud of the polluted land, the architects decided to use old, abandoned boats instead.",
                "Today, De Ceuvel is now known as one of the most active playgrounds for innovative green technology in all of Amsterdam."
            ],
            conclusion: [
                "These two examples of urban revitalization in the Netherlands required much more than a budget and a plan.",
                "Innovative thinking, creativity, community spirit, and cooperation were all vital to their success.",
                "These projects are great sources of inspiration for other cities that are looking to bring new life to abandoned areas.",
                "They prove that with the right approach, even the most challenging urban problems can be transformed into opportunities."
            ]
        };

        let currentExercise = [];
        let correctOrder = [];
        let userOrder = [];
        let selectedSentence = null;

        const exerciseSelect = document.getElementById('exerciseSelect');
        const shuffleBtn = document.getElementById('shuffleBtn');
        const checkBtn = document.getElementById('checkBtn');
        const resetBtn = document.getElementById('resetBtn');
        const exerciseArea = document.getElementById('exerciseArea');
        const scrambledContainer = document.getElementById('scrambledContainer');
        const orderedContainer = document.getElementById('orderedContainer');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const scoreElement = document.getElementById('score');
        const feedback = document.getElementById('feedback');

        exerciseSelect.addEventListener('change', function() {
            const selectedExercise = this.value;
            if (selectedExercise) {
                loadExercise(selectedExercise);
            }
        });

        shuffleBtn.addEventListener('click', shuffleSentences);
        checkBtn.addEventListener('click', checkAnswer);
        resetBtn.addEventListener('click', resetExercise);

        function loadExercise(exerciseKey) {
            currentExercise = [...exercises[exerciseKey]];
            correctOrder = [...currentExercise];
            userOrder = [];
            selectedSentence = null;

            shuffleSentences();
            exerciseArea.style.display = 'block';
            shuffleBtn.disabled = false;
            resetBtn.disabled = false;
            scoreDisplay.style.display = 'none';
            hideFeedback();
        }

        function shuffleSentences() {
            const shuffled = [...currentExercise];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }

            displayScrambledSentences(shuffled);
            createDropZones();
            checkBtn.disabled = true;
            userOrder = [];
            selectedSentence = null;
        }

        function displayScrambledSentences(sentences) {
            scrambledContainer.innerHTML = '';
            sentences.forEach((sentence, index) => {
                const sentenceDiv = document.createElement('div');
                sentenceDiv.className = 'sentence-item';
                sentenceDiv.textContent = sentence;
                sentenceDiv.dataset.sentence = sentence;

                sentenceDiv.addEventListener('click', function() {
                    selectSentence(this);
                });

                scrambledContainer.appendChild(sentenceDiv);
            });
        }

        function selectSentence(element) {
            document.querySelectorAll('.sentence-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            document.querySelectorAll('.drop-zone.highlight').forEach(zone => {
                zone.classList.remove('highlight');
            });

            element.classList.add('selected');
            selectedSentence = element;

            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.classList.add('highlight');
            });

            showFeedback('ì„ íƒëœ ë¬¸ì¥ì„ ë°°ì¹˜í•  ìœ„ì¹˜ë¥¼ í´ë¦­í•˜ì„¸ìš”!', 'correct');
        }

        function createDropZones() {
            orderedContainer.innerHTML = '';
            for (let i = 0; i < currentExercise.length; i++) {
                const dropZone = document.createElement('div');
                dropZone.className = 'drop-zone';
                dropZone.textContent = `ë¬¸ì¥ ${i + 1}ì„ ì—¬ê¸°ì— ë°°ì¹˜í•˜ì„¸ìš”`;
                dropZone.dataset.position = i;

                dropZone.addEventListener('click', function() {
                    handleDropZoneClick(this);
                });

                orderedContainer.appendChild(dropZone);
            }
        }

        function handleDropZoneClick(dropZone) {
            if (!selectedSentence) {
                showFeedback('ë¨¼ì € ì™¼ìª½ì—ì„œ ë¬¸ì¥ì„ ì„ íƒí•˜ì„¸ìš”!', 'incorrect');
                return;
            }

            const sentence = selectedSentence.dataset.sentence;
            const position = parseInt(dropZone.dataset.position);

            const sentenceDiv = document.createElement('div');
            sentenceDiv.className = 'sentence-item';
            sentenceDiv.textContent = sentence;
            sentenceDiv.dataset.sentence = sentence;
            sentenceDiv.dataset.position = position;

            sentenceDiv.addEventListener('click', function() {
                returnSentence(this);
            });

            dropZone.parentNode.replaceChild(sentenceDiv, dropZone);
            selectedSentence.remove();
            selectedSentence = null;

            document.querySelectorAll('.sentence-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            document.querySelectorAll('.drop-zone.highlight').forEach(zone => {
                zone.classList.remove('highlight');
            });

            updateUserOrder();
            hideFeedback();
        }

        function returnSentence(sentenceElement) {
            const position = parseInt(sentenceElement.dataset.position);
            const sentence = sentenceElement.dataset.sentence;

            const dropZone = document.createElement('div');
            dropZone.className = 'drop-zone';
            dropZone.textContent = `ë¬¸ì¥ ${position + 1}ì„ ì—¬ê¸°ì— ë°°ì¹˜í•˜ì„¸ìš”`;
            dropZone.dataset.position = position;

            dropZone.addEventListener('click', function() {
                handleDropZoneClick(this);
            });

            sentenceElement.parentNode.replaceChild(dropZone, sentenceElement);

            const newSentenceDiv = document.createElement('div');
            newSentenceDiv.className = 'sentence-item';
            newSentenceDiv.textContent = sentence;
            newSentenceDiv.dataset.sentence = sentence;

            newSentenceDiv.addEventListener('click', function() {
                selectSentence(this);
            });

            scrambledContainer.appendChild(newSentenceDiv);

            selectedSentence = null;
            document.querySelectorAll('.sentence-item.selected').forEach(item => {
                item.classList.remove('selected');
            });
            document.querySelectorAll('.drop-zone.highlight').forEach(zone => {
                zone.classList.remove('highlight');
            });

            updateUserOrder();
        }

        function updateUserOrder() {
            userOrder = [];
            const placedSentences = orderedContainer.querySelectorAll('.sentence-item');
            placedSentences.forEach(sentence => {
                const position = parseInt(sentence.dataset.position);
                userOrder[position] = sentence.dataset.sentence;
            });

            const hasEmptySlots = userOrder.includes(undefined) || userOrder.length !== currentExercise.length;
            checkBtn.disabled = hasEmptySlots;
        }

        function checkAnswer() {
            let correct = 0;
            const placedSentences = orderedContainer.querySelectorAll('.sentence-item');
            
            placedSentences.forEach((sentence, index) => {
                sentence.classList.remove('correct-sentence', 'incorrect-sentence');
                const position = parseInt(sentence.dataset.position);
                const userSentence = sentence.dataset.sentence;
                const correctSentence = correctOrder[position];
                
                if (userSentence === correctSentence) {
                    sentence.classList.add('correct-sentence');
                    correct++;
                } else {
                    sentence.classList.add('incorrect-sentence');
                }
            });

            const score = Math.round((correct / currentExercise.length) * 100);
            scoreElement.textContent = score;
            scoreDisplay.style.display = 'block';

            if (score === 100) {
                showFeedback('ğŸ‰ ì™„ë²½í•©ë‹ˆë‹¤! ëª¨ë“  ë¬¸ì¥ì„ ì˜¬ë°”ë¥´ê²Œ ë°°ì—´í–ˆìŠµë‹ˆë‹¤!', 'correct');
            } else if (score >= 70) {
                showFeedback(`ğŸ‘ ì˜í–ˆìŠµë‹ˆë‹¤! ${correct}/${currentExercise.length}ê°œ ì •ë‹µì…ë‹ˆë‹¤.`, 'correct');
            } else {
                showFeedback(`ğŸ’ª ë‹¤ì‹œ í•œë²ˆ ì‹œë„í•´ë³´ì„¸ìš”! ${correct}/${currentExercise.length}ê°œ ì •ë‹µì…ë‹ˆë‹¤.`, 'incorrect');
            }
        }

        function resetExercise() {
            const selectedExercise = exerciseSelect.value;
            if (selectedExercise) {
                loadExercise(selectedExercise);
            }
            hideFeedback();
        }

        function showFeedback(message, type) {
            feedback.textContent = message;
            feedback.className = `feedback ${type}`;
        }

        function hideFeedback() {
            feedback.className = 'feedback';
        }
    </script>
</body>
</html>